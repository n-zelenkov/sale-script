 const stagesData = {
    1: {
        title: "Знакомство и выявление потребностей",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-school"></i> Работа со школой</h3>
                <div class="script-text">
                    <p><strong>Ребенку:</strong> "В каком ты классе? Сколько тебе лет? Как у тебя с математикой и английским в школе?"</p>
                    <p>→ <strong>ОТВЕТ РЕБЕНКА:</strong> Плохо с предметами/Хорошо с предметами</p>
                    
                    <p>→ <strong>Ребенку (если плохо с предметами):</strong> "Оценки разные бывают. И у меня тоже были проблемы с математикой и английским, но поверь мне, в силах любого ребенка понять предмет и иметь твердые 4 и 5. На программировании мы касаемся вопросов математики, многие моменты станут тебе понятны. Ср.балл наших учеников 4,5. Согласись, это хорошая оценка? Кроме того, английский язык подтягивается автоматом - многие команды на английском, ты их будешь изучать, а значит, улучшать свои знания языка".</p>
                    
                    <p>→ <strong>Ребенку (если хорошо с предметами):</strong> "Прекрасно, ты отличник/хорошист. Это значит, что тебе будет очень легко программировать! При занятиях программированием мы касаемся вопросов математики, затрагиваем глубокие моменты. Это точно поможет, например, при участии в олимпиадах, при подготовке к ОГЭ и ЕГЭ".</p>
                    
                    <p><strong>Родителю:</strong> "Хотели бы, чтобы [Имя Ребенка] показывал стабильные результаты/еще более хорошие результаты по математике и английскому языку?"</p>
                    <p>→ <strong>ОТВЕТ РОДИТЕЛЯ:</strong> Да/У нас и так все неплохо</p>
                    
                    <p>→ <strong>Родителю:</strong> "Проблема современной школы в том, что слабо развиваются такие значимые навыки как:
                        <ul>
                            <li>Систематизация (системное мышление)</li>
                            <li>Аналитическое мышление</li>
                            <li>Навыки публичных выступлений и позиционирование своей точки зрения</li>
                            <li>Проектная деятельность</li>
                            <li>Навыки работы с ПК</li>
                            <li>Навык командной работы</li>
                        </ul>
                        В итоге, молодому человеку достаточно сложно адаптироваться на работе. Особенно если мы говорим о крупных компаниях, где требования к сотруднику максимальные. Это жизненно необходимые навыки в каждой профессии и, в целом, в современном мире. Эти навыки позволяют ребенку быть успешным и очень ценятся современным обществом. Согласны, что в школе такому не учат? Кроме того, это создает прочную базу для легкого поступления в вуз".</p>
                </div>
            </div>
            
            <div class="script-block">
                <h3><i class="fas fa-graduation-cap"></i> Обсуждение будущего</h3>
                <div class="script-text">
                    <p><strong>Ребенку:</strong> "Здорово, что хочешь делать свои игры/... А что в итоге хотел бы получить от программирования?"</p>
                    <p>→ <strong>Если не отвечает:</strong> "Обычно ребята выбирают, потому что хотят получить то.../... А ты знаешь, что обучаясь программированию, можно уже после первых лет обучения зарабатывать на собственных проектах? И даже до достижения 18 лет".</p>
                    
                    <p><strong>Родителю:</strong> "А вы как родитель, что хотели бы, чтобы ребенок получил от программирования?"</p>
                    <p>→ <strong>Если не отвечает:</strong> "Обычно родители отправляют к нам детей, чтобы профориентироваться/... Что из этого вам подходит?"</p>
                    
                    <p>→ <strong>ОТВЕТ РЕБЕНКА и РОДИТЕЛЯ</strong></p>
                    
                    <p>→ <strong>Ответ:</strong> "Программирование помогает развить такие практические навыки, как креативность и умение решать проблемы. В результате изучение программирования открывает множество возможностей для трудоустройства. Обычно молодому специалисту очень сложно устроиться на работу и, как правило, это низкие стартовые заработные платы. Среди преимуществ — широкий спектр отраслей, в которых можно работать программистом. Заработок специалиста начинается от 180 000 рублей и более. Согласитесь, это неплохой старт? Кроме того, это еще и широкие возможности карьерного роста и навыки для запуска собственного стартапа/бизнеса за счет развития навыков проектной деятельности. Кстати, у нас предусмотрена стажировка в таких компаниях как Яндекс и ВК, согласитесь, это очень полезный опыт для будущего ребенка?"</p>
                    
                    <p>→ <strong>Если говорят, что не хотят быть программистами:</strong> "А в какой сфере планируете развиваться? Во всех сферах необходимы навыки публичных выступлений, логика, 3D дизайн, ведение проектов, командная работа, навык работы с ПК. Раньше детей отправляли для развития подобных задач на занятия шахматами, сейчас есть программирование".</p>
                </div>
            </div>
        `
    },
    2: {
        title: "Диагностика знаний через игру",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-gamepad"></i> Проведение игры</h3>
                <div class="script-text">
                    <p>Проводим игру по следующей логике:</p>
                    <ul>
                        <li>Проводит обзор среды: название игры, ее описание, терминология (сцена, спрайты, алгоритм, цикл), называет цель упражнения</li>
                        <li>Корректно и без ошибок даем инструкцию к заданиям</li>
                        <li>Контролируем, что происходит на экране, рисуем и подсказываем ребенку, активно участвуя в процессе</li>
                        <li>Отвечаем на вопросы по заданиям</li>
                        <li>Даем задачи в соответствии с возрастной категорией и уровнем ребенка</li>
                        <li>Мотивируем на самостоятельное выполнение заданий</li>
                        <li>Объясняем, если у ребенка не получается</li>
                        <li>Если есть потребность - усложняем игру</li>
                    </ul>
                </div>
            </div>
        `
    },
    3: {
        title: "Резюмирование целей",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-bullseye"></i> Краткосрочные и долгосрочные цели</h3>
                <div class="script-text">
                    <p><strong>Родителю:</strong> "Давайте подрезюмирую, вы хотели бы от занятий [резюмирование договоренностей по блоку будущее]. Верно? Для того, чтобы достичь вышесказанных целей, нам с вами понадобится 3 года обучения. Это средние сроки для освоения навыка".</p>
                    
                    <p><strong>Ребенку:</strong> "А ты, [Имя Ребенка], хотел бы чтобы [резюмирование договоренностей по блоку будущее]. Ну что, [Имя Ребенка], готов приступить к обучению с нами? Покодим?"</p>
                </div>
            </div>
        `
    },
    4: {
        title: "Обратная связь по диагностике",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-comment-dots"></i> Позитивное завершение диагностики</h3>
                <div class="script-text">
                    <p><strong>Ребенку:</strong> "Нам удалось убрать все ошибки в игре, а значит ты сам перепрограммировал игру! Ты отлично поработал на уроке (если У занимался плохо, хвалим за участие). Спасибо тебе за твои старания! Тебе понравилось?"</p>
                    
                    <p><strong>Родителю:</strong> "[Имя родителя], а вам понравился урок?"</p>
                </div>
            </div>
            
            <div class="script-block">
                <h3><i class="fas fa-clipboard-list"></i> Описание тематик диагностики</h3>
                <div class="script-text">
                    <p><strong>Родителю:</strong> "[Имя родителя], при выполнении заданий я обращал внимание на несколько навыков:
                        <ul>
                            <li>навык работы с компьютером</li>
                            <li>алгоритмическое мышление</li>
                            <li>скорость восприятия информации</li>
                            <li>внимание к деталям</li>
                            <li>логическое мышление</li>
                        </ul>
                    </p>
                </div>
            </div>
        `
    },
    5: {
        title: "Презентация курса и экосистемы",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-graduation-cap"></i> Презентация курса</h3>
                <div class="script-text">
                    <p><strong>Родителю:</strong>
                        <ul>
                            <li>При проведении обучения во главе угла мы ставим практику - 80% занятий это практические действия в системах программирования. Это гарантирует вам развитие именно навыка и достаточно быстро.</li>
                            <li>Занятия происходят в группах, но это не отменяет индивидуального плана развития для каждого ребенка. Мы выстраиваем индивидуальный путь для каждого ученика с учетом ваших потребностей и его особенностей.</li>
                            <li>Родителям важно получать обратную связь по работе своего ребенка. Мы это учли, поэтому у нас есть обратная связь в родительском чате после каждого урока.</li>
                            <li>Практически после каждого занятия у ребенка будет готов проект (или его часть), что дает вам гарантию именно результативности занятий.</li>
                            <li>Ну и очень приятный итог нашего обучения - это сертификат об окончании курсов, который подтверждает, что курс пройден в полном объеме и на должном качестве.</li>
                        </ul>
                    </p>
                </div>
            </div>
        `
    },
    6: {
        title: "Презентация цены",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-money-bill-wave"></i> Презентация тарифов</h3>
                <div class="script-text">
                    <p><strong>Родителю:</strong> "Вот наши стандартные цены: у нас 3 тарифа - презентуем тарифы с опорой на выгоды. Так как вы сказали, что готовы заниматься, вот тарифы с учетом скидки только на вводном уроке".</p>
                    
                    <p><strong>Родителю:</strong> "Оплатить можно или полностью всю сумму за весь период обучения, или выбрать помесячную оплату: тогда это будет вариант образовательной рассрочки, она оформляется через банк. Так как у вас длительное обучение, школа получает всю сумму сразу, а вы оплачиваете помесячно, без выплаты процентов."</p>
                </div>
            </div>
        `
    },
    7: {
        title: "Обработка возражений",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-comments"></i> Возражение: "Дорого"</h3>
                <div class="script-text">
                    <p><strong>Ответ:</strong> "Давайте обсудим это подробнее. Если бы не вопрос цены, сам курс вас устраивает? Наполняемость и образовательные результаты вам подходят? Хорошо, если сейчас оформлять, то со скидкой ежемесячный платеж всего лишь порядка 8667 рублей, что соответствует 1300 рублям за академический час. Согласитесь, сейчас репетиторы по предметам берут больше, при этом разбирают стандартную школьную программу. При этом мы с вами развиваем в ребенке навык, который далее будет приносить заработную плату 150 000+ на начальном этапе. Согласитесь, звучит неплохо?"</p>
                </div>
            </div>
            
            <div class="script-block">
                <h3><i class="fas fa-comments"></i> Возражение: "Надо подумать"</h3>
                <div class="script-text">
                    <p><strong>Ответ:</strong> "Прекрасно понимаю, что необходимо принимать взвешенные решения и сейчас как раз идеальный момент, чтобы обсудить все за и против. Подскажите, какой информации не хватает для принятия решения прямо сейчас? Данный момент наиболее удачен для покупки, потому что у ребенка по-настоящему загорелись глаза, вы тоже настроены серьезно и при этом именно сегодня есть возможность сэкономить 25 000 рублей и получить ряд дорогостоящих бонусов."</p>
                </div>
            </div>
        `
    },
    8: {
        title: "Завершение урока",
        content: `
            <div class="script-block">
                <h3><i class="fas fa-flag-checkered"></i> Завершение контакта</h3>
                <div class="script-text">
                    <p><strong>Родителю:</strong> "Скажите, какие еще вопросы остались, как я могу вам помочь?"</p>
                    
                    <p><strong>Если продажа состоялась:</strong> "Отлично, тогда давайте перейдем к оформлению документов!"</p>
                    
                    <p><strong>Если продажа не состоялась:</strong> "Я позвоню вам сегодня вечером/завтра (время сами назначаем) для уточнения вашего решения. Мне было очень приятно познакомится, с вами и [имя ребенка], он у вас замечательный и я уверен мы 100% ему нужно заниматься программированием! Успехов в реализации целей, всего доброго до свидания!"</p>
                </div>
            </div>
        `
    }
};


let currentStage = 1;
const totalStages = Object.keys(stagesData).length;


const stageTitle = document.getElementById('stage-title');
const stageContent = document.getElementById('stage-content');
const progressBar = document.getElementById('progress-bar');
const stageCounter = document.getElementById('stage-counter');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const stageLinks = document.querySelectorAll('.stages-list a');


function loadStage(stageNumber) {
    if (stagesData[stageNumber]) {

        stageTitle.textContent = stagesData[stageNumber].title;
        

        stageContent.innerHTML = stagesData[stageNumber].content;
        

        const progressPercentage = (stageNumber / totalStages) * 100;
        progressBar.style.width = `${progressPercentage}%`;
        

        stageCounter.textContent = `Этап ${stageNumber} из ${totalStages}`;
        

        stageLinks.forEach(link => {
            if (parseInt(link.dataset.stage) === stageNumber) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
        

        currentStage = stageNumber;
        

        prevBtn.disabled = (stageNumber === 1);
        nextBtn.disabled = (stageNumber === totalStages);
    }
}


loadStage(currentStage);


nextBtn.addEventListener('click', () => {
    if (currentStage < totalStages) {
        loadStage(currentStage + 1);
    }
});

prevBtn.addEventListener('click', () => {
    if (currentStage > 1) {
        loadStage(currentStage - 1);
    }
});


stageLinks.forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        const stageNumber = parseInt(link.dataset.stage);
        loadStage(stageNumber);
    });
});


document.querySelector('.search-box button').addEventListener('click', function() {
    const searchTerm = document.querySelector('.search-box input').value.toLowerCase();
    if (searchTerm) {
        alert(`Поиск по запросу: "${searchTerm}"\nРеализация поиска будет добавлена в следующей версии.`);
    }
});


document.querySelector('.search-box input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        document.querySelector('.search-box button').click();
    }
});